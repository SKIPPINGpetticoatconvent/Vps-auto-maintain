# 错误处理与日志标准

## 1. 结构化日志

- 所有的错误必须包含上下文（Context）。
- **Go**: 使用 `fmt.Errorf("failed to exec script: %w", err)` 包装错误。
- **Rust**: 使用 `anyhow` 或 `thiserror` 提供清晰的错误链。

## 2. 关键路径埋点

- 每一个按钮点击（Callback Query）必须有对应的 `Debug` 或 `Info` 级别日志记录。
- 所有的系统命令（Shell Command）执行前必须打印原始指令，执行后记录退出码（Exit Code）。

## 3. 用户反馈

- 严禁在发生错误时让 Bot 保持沉默。必须向管理员发送“❌ 操作失败：[简短原因]”的回复。
