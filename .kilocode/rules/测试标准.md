# 测试标准与环境准则

当协助编写或调试测试代码时，必须遵循以下分类：

## 1. 单元测试 (Unit Tests)

- **适用范围**：纯逻辑、正则解析、配置文件解析、字符串格式化。
- **环境**：允许在宿主机（Windows/macOS）直接运行 `go test` 或 `cargo test`。
- **约束**：严禁在单元测试中发起真实网络请求或调用系统级命令（如 `systemctl`）。

## 2. 集成测试 (Integration Tests)

- **适用范围**：涉及 `apt`, `systemctl`, `ufw`, `journalctl` 等 Linux 系统调用。
- **环境**：必须建议用户使用 **Podman/Docker** 容器。
- **镜像选择**：优先使用 `debian:12` 或 `jrei/systemd-debian:12` 以模拟真实 VPS 环境。

## 3. 错误处理验证

- 所有集成测试必须包含至少一个**异常路径测试**（如：磁盘满、无 sudo 权限、命令不存在）。
